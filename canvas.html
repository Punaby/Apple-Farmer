 <!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Hungry Apple Farmer</title>
<style>
.canvas{

}
.arrow{
background-color:blue;
}
</style>
</head>
<body>
<canvas id="canvas" class="canvas" width="800" height="525"></canvas>
	<div>
<button id="e" class="arrow">reset</button>
<a href="index.html" class="arrow"><button>How to play!</button></a>		
	</div>
<script src="code.jquery.com_jquery-2.1.0.js"></script>	
<script src="Jquery2.1.1"></script>
<script>
 var canvas= document.getElementById("canvas");

 var ctx = canvas.getContext("2d")
 var width=canvas.width
 var height=canvas.height

 // score=x,yo=y
 var score=70;
 var yo=70;
   // interval
 var interval=setInterval(function() {

  ctx.clearRect(0,0,800,500)
   square();
	 checkCollisionWALL();
	 
	   circle(65,130,5,true,false);
   circle(65,320,5,true,false);
   circle(240,240,5,true,false);
   circle(295,95,5,true,false);
   circle(405,180,5,true,false);
   circle(330,335,5,true,false); 
   circle(190,140,5,true,false);
   circle(150,250,5,true,false);
   circle(380,70,5,true,false);
	 
    CheckPOIScol(330,335)
    CheckPOIScol(150,250);
    CheckPOIScol(65,320);
    CheckPOIScol(240,240);
	CheckPOIScol(295,95);
	CheckPOIScol(405,180);
	CheckPOIScol(65,130);
	CheckPOIScol(190,140);
	CheckPOIScol(380,70);
	 
    CheckAPPLcol(Apple.x,Apple.y)	
	Apple.draw();
	    motto();
	 drawBorder();
	},10)
	
	var interval4apple=setInterval(function(){
	Apple.VERI();
	Apple.draw();
	},3000)

// diagnol moving circle
var square = function(){
ctx.fillStyle="blue";
     circle(score,yo,5.5,false);
yo+=0.3
 score+=0.3
  
};
	// draw border
	function drawBorder(){
    ctx.fillStyle="Grey"
    ctx.beginPath();
		ctx.moveTo(10,10)
    ctx.lineTo(15,30)
    ctx.lineTo(20,10)
    ctx.lineTo(10,10)
		ctx.moveTo(20,10)
    ctx.lineTo(25,30)
    ctx.lineTo(30,10)
    ctx.lineTo(20,10)
		ctx.moveTo(30,10)
    ctx.lineTo(35,30)
    ctx.lineTo(40,10)
    ctx.lineTo(30,10)
		ctx.moveTo(40,10)    
    ctx.lineTo(45,30)
    ctx.lineTo(50,10)
    ctx.lineTo(40,10)
		ctx.moveTo(50,10)   
    ctx.lineTo(55,30)
    ctx.lineTo(60,10)
    ctx.lineTo(50,10)
			ctx.moveTo(60,10)    
    ctx.lineTo(65,30)
    ctx.lineTo(70,10)
    ctx.lineTo(60,10)
			ctx.moveTo(70,10)    
    ctx.lineTo(75,30)
    ctx.lineTo(80,10)
    ctx.lineTo(70,10)
			ctx.moveTo(80,10)    
    ctx.lineTo(85,30)
    ctx.lineTo(90,10)
    ctx.lineTo(80,10)
			ctx.moveTo(90,10)    
    ctx.lineTo(95,30)
    ctx.lineTo(100,10)
    ctx.lineTo(90,10)
			ctx.moveTo(100,10)    
    ctx.lineTo(105,30)
    ctx.lineTo(110,10)
    ctx.lineTo(100,10)
				ctx.moveTo(110,10)    
    ctx.lineTo(115,30)
    ctx.lineTo(120,10)
    ctx.lineTo(110,10)
				ctx.moveTo(120,10)    
    ctx.lineTo(125,30)
    ctx.lineTo(130,10)
    ctx.lineTo(120,10)
				ctx.moveTo(130,10)    
    ctx.lineTo(135,30)
    ctx.lineTo(140,10)
    ctx.lineTo(130,10)
				ctx.moveTo(140,10)    
    ctx.lineTo(145,30)
    ctx.lineTo(150,10)
    ctx.lineTo(140,10)
				ctx.moveTo(150,10)    
    ctx.lineTo(155,30)
    ctx.lineTo(160,10)
    ctx.lineTo(150,10)
				ctx.moveTo(160,10)    
    ctx.lineTo(165,30)
    ctx.lineTo(170,10)
    ctx.lineTo(160,10)
			ctx.moveTo(170,10)    
    ctx.lineTo(175,30)
    ctx.lineTo(180,10)
    ctx.lineTo(170,10)
				ctx.moveTo(180,10)    
    ctx.lineTo(185,30)
    ctx.lineTo(190,10)
    ctx.lineTo(180,10)
		ctx.moveTo(190,10)
	ctx.lineTo(195,30)
	ctx.lineTo(200,10)
	ctx.lineTo(190,10)
			ctx.moveTo(200,10)    
    ctx.lineTo(205,30)
    ctx.lineTo(210,10)
    ctx.lineTo(200,10)
				ctx.moveTo(210,10)    
    ctx.lineTo(215,30)
    ctx.lineTo(220,10)
    ctx.lineTo(210,10)
				ctx.moveTo(220,10)    
    ctx.lineTo(225,30)
    ctx.lineTo(230,10)
    ctx.lineTo(220,10)
				ctx.moveTo(230,10)    
    ctx.lineTo(235,30)
    ctx.lineTo(240,10)
    ctx.lineTo(230,10)
				ctx.moveTo(240,10)    
    ctx.lineTo(245,30)
    ctx.lineTo(250,10)
    ctx.lineTo(240,10)
				ctx.moveTo(250,10)    
    ctx.lineTo(255,30)
    ctx.lineTo(260,10)
    ctx.lineTo(250,10)
				ctx.moveTo(260,10)    
    ctx.lineTo(265,30)
    ctx.lineTo(270,10)
    ctx.lineTo(260,10)
				ctx.moveTo(270,10)    
    ctx.lineTo(275,30)
    ctx.lineTo(280,10)
    ctx.lineTo(270,10)
				ctx.moveTo(280,10)    
    ctx.lineTo(285,30)
    ctx.lineTo(290,10)
    ctx.lineTo(280,10)
				ctx.moveTo(290,10)
	ctx.lineTo(295,30)
	ctx.lineTo(300,10)
	ctx.lineTo(290,10)
				ctx.moveTo(300,10)    
    ctx.lineTo(305,30)
    ctx.lineTo(310,10)
    ctx.lineTo(300,10)
				ctx.moveTo(310,10)    
    ctx.lineTo(315,30)
    ctx.lineTo(320,10)
    ctx.lineTo(310,10)
				ctx.moveTo(320,10)    
    ctx.lineTo(325,30)
    ctx.lineTo(330,10)
    ctx.lineTo(320,10)
				ctx.moveTo(330,10)    
    ctx.lineTo(335,30)
    ctx.lineTo(340,10)
    ctx.lineTo(330,10)
				ctx.moveTo(340,10)    
    ctx.lineTo(345,30)
    ctx.lineTo(350,10)
    ctx.lineTo(340,10)
				ctx.moveTo(350,10)    
    ctx.lineTo(355,30)
    ctx.lineTo(360,10)
    ctx.lineTo(350,10)
				ctx.moveTo(360,10)    
    ctx.lineTo(365,30)
    ctx.lineTo(370,10)
    ctx.lineTo(360,10)
			ctx.moveTo(370,10)    
    ctx.lineTo(375,30)
    ctx.lineTo(380,10)
    ctx.lineTo(370,10)
				ctx.moveTo(380,10)    
    ctx.lineTo(385,30)
    ctx.lineTo(390,10)
    ctx.lineTo(380,10)
				ctx.moveTo(390,10)
	ctx.lineTo(395,30)
	ctx.lineTo(400,10)
	ctx.lineTo(390,10)
				ctx.moveTo(400,10)    
    ctx.lineTo(405,30)
    ctx.lineTo(410,10)
    ctx.lineTo(400,10)
				ctx.moveTo(410,10)    
    ctx.lineTo(415,30)
    ctx.lineTo(420,10)
    ctx.lineTo(410,10)
				ctx.moveTo(420,10)    
    ctx.lineTo(425,30)
    ctx.lineTo(430,10)
    ctx.lineTo(420,10)
				ctx.moveTo(430,10)    
    ctx.lineTo(35,30)
    ctx.lineTo(440,10)
    ctx.lineTo(330,10)
				ctx.moveTo(440,10)    
    ctx.lineTo(445,30)
    ctx.lineTo(450,10)
    ctx.lineTo(440,10)
				ctx.moveTo(450,10)    
    ctx.lineTo(455,30)
    ctx.lineTo(460,10)
    ctx.lineTo(450,10)
				ctx.moveTo(460,10)    
    ctx.lineTo(465,30)
    ctx.lineTo(470,10)
    ctx.lineTo(460,10)
				ctx.moveTo(470,10)    
    ctx.lineTo(475,30)
    ctx.lineTo(480,10)
    ctx.lineTo(470,10)
				ctx.moveTo(480,10)    
    ctx.lineTo(485,30)
    ctx.lineTo(490,10)
    ctx.lineTo(480,10)
				ctx.moveTo(490,10)
	ctx.lineTo(495,30)
	ctx.lineTo(500,10)
	ctx.lineTo(490,10)
		ctx.fill()
	}
  // checking for collision with wall
function checkCollisionWALL(){
if(score<60){
gameOver();
} else if(yo<60){
gameOver();	
} else if(score>475){
	gameOver();
} else if(yo>475){
	gameOver();
}
}
	
// poison checking
function CheckPOIScol(cir2x,cir2y) {
var dx= cir2x-score;
var dy= cir2y-yo;
var distance= Math.sqrt(dx*dx+dy*dy);
var sumofRadii=5.5+5;

if(distance<sumofRadii){
gameOver();
} else if (distance===sumofRadii){
alert("collision")
  }
 }
	
// apple checking
function CheckAPPLcol(cir2x,cir2y) {
var dx= cir2x-score;
var dy= cir2y-yo;
var distance= Math.sqrt(dx*dx+dy*dy);
var sumofRadii=5.5+5;

if(distance<sumofRadii){
Apple.VERI();
Apple.draw();
scoreOfPoints+=5
} else if (distance===sumofRadii){
Apple.VERI();
Apple.draw();
scoreOfPoints+=5
  }
 }

  // game over function
  function gameOver(){
     ctx.font="50px Helvitica";
   ctx.fillStyle="red"
	 ctx.fillText("Game Over!",360,200);
	 ctx.font="25px Helvitica";
	 ctx.fillStyle="gray";
	 ctx.fillText("Click the reset button to reset",385,220);
	 clearInterval(interval)
	 clearInterval(interval4apple)
	  }
  //keyboard input
 function a(){
  score-=5
}
function b(){
score+=5
}

function c(){
yo-=5
}

function d(){
yo+=5
}
$("#a").click(a)
$("#b").click(b)
$("#c").click(c)
$("#d").click(d)
$("#e").click(reload)

function setDirection(direction){
if(direction==="up"){
c();
}else if(direction==="down"){
d();
}else if(direction==="left"){
a();
}else if(direction==="right"){
b();
}
};
var keyActions={
37:"left",
38:"up",
39:"right",
40:"down",
87:"up",
65:"left",
83:"down",
68:"right"
};

$("body").keydown(function (event) {
var direction=keyActions[event.keyCode];
setDirection(direction);
});

  // reload
  function reload(){
  location.reload()
  };
  
// score
var motto= function(){
ctx.font="20px arial";
ctx.textAlign="right";
ctx.fillStyle="grey";
ctx.fillText('Tips and stats',690,35)
ctx.fillStyle="maroon";
ctx.fillText("Don't touch the poison!",730,95)
ctx.fillStyle="black"
ctx.fillText("Don't leave the grass!",717.5,195)
ctx.fillStyle="limegreen"
ctx.fillText("Grab apples for points!",730,295)
ctx.fillStyle="blue"
ctx.fillText("Score: "+scoreOfPoints,665,370)
}

var scoreOfPoints=0;
function apple(){
var thisish=Math.random()*200;
var thisis=Math.random()*200;
circle(thisish,thisis,5,false)
}
// apple function(s)
function applex(){
var xapple= Math.random()*470
return(xapple)
}

function appley(){
var yapple= Math.random()*370
return(yapple)
}

var apple=  function(){
this.x;
this.y;
}

apple.prototype.VERI= function(){
this.y=appley();
this.x=applex();
};
apple.prototype.draw=function(){
circle(this.x,this.y,10,false,true)
}
var Apple= new apple();


//circle function
function circle(x,y,radius,fillCircle,apple){
ctx.beginPath();
ctx.arc(x,y,radius,0,Math.PI*2,null)
if(fillCircle){
ctx.fillStyle="maroon"
ctx.fill();
} else if(apple){
ctx.fillStyle=" limegreen";
ctx.fill();
}else{
ctx.fillStyle="blue";
ctx.fill();
}
}
</script>
</body>
</html>
